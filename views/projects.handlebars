<div class="container">
  <h1><img height="50px" src="/img/science-book.png" alt="Science Book"> LabBase 3000</h1>
  <ul class="nav nav-tabs">
    <li role="presentation"><a href="/">Labs</a></li>
    <li role="presentation" class="active"><a href="#">Projects</a></li>
  </ul>
  <br>

  <!-- Empty Modal -->
  <div class="modal fade" id="emptyModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">
          <img id="loading-img" height="128px" src="/img/progress.gif" alt="Loading...">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- New Project Modal -->
  <div class="modal fade" id="projModal" tabindex="-1" role="dialog" aria-labelledby="projModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="projModalLabel">Create New Project</h4>
        </div>
        <div class="modal-body">
          <form data-lab-id="{{lab_id}}" data-type="project">
            <div class="form-group">
              <label for="name-field">Project Name</label>
              <input type="text" class="form-control" name="name" placeholder="Name">
            </div>
            <div class="form-group">
              <label for="ext-field">Start Date</label>
              <input type="date" class="form-control" name="start_date" placeholder="Start Date">
            </div>
            <div class="form-group">
              <label for="ext-field">Due Date</label>
              <input type="date" class="form-control" name="due_date" placeholder="Due Date">
            </div>
            <div class="form-group">
              <label for="ext-field">Objective</label>
              <textarea class="form-control" name="objective" rows="2" placeholder="Objective"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary add-button">Add Project</button>
        </div>
      </div>
    </div>
  </div>

  <div id="project">
    {{#if projects.length}}
      <table class="table table-bordered table-condensed table-striped table-responsive">
        <tr><th class="text-center">Name</th><th class="text-center">Start Date</th><th class="text-center">Due Date</th><th class="text-center">Objective</th><th class="text-center">Employees</th><th class="text-center">Equipment</th><th class="buttons"></th></tr>
        {{#each projects}}
            <tr class="reg-row" data-type="project">
              <input type="hidden" name="id" value={{this.id}}>
              <td>
                <p class="text-center">{{this.name}}</p>
              </td>
              <td>
                <p class="text-center">{{this.start_date}}</p>
              </td>
              <td>
                <p class="text-center">{{this.due_date}}</p>
              </td>
              <td>
                <a href="#" data-query="objective" data-toggle="modal" data-target="#emptyModal" data-id="{{this.id}}"><p class="text-center table-link">See Objective</p></a>
                <p class="objective hidden">{{this.objective}}</p>
              </td>
              <td>
                <a href="#" data-query="employees" data-toggle="modal" data-target="#emptyModal" data-id="{{this.id}}"><p class="text-center table-link">See Employees</p></a>
              </td>
              <td>
                <a href="#" data-query="equipment" data-toggle="modal" data-target="#emptyModal" data-id="{{this.id}}"><p class="text-center table-link">See Equipment</p></a>
              </td>
              <td class="buttons">
                  <input class="btn btn-danger" type="button" value="Remove">
              </td>
            </tr>
        {{/each}}
      </table>
    {{else}}
      <h3 class="text-center">There are no active projects at this time</h3>
    {{/if}}
  </div>
  <hr>
  <div>
    <!-- Button triggers modal -->
    <button type="button" class="btn btn-lg btn-block btn-success" data-toggle="modal" data-target="#projModal">
      Create New Project
    </button>
  </div>
  <hr>
</div>
